(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(46)},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),l=a.n(s),c=a(4),o=a(3),i=a.n(o),u=a(12),p=a(13),h=a(14),m=a(18),d=a(15),g=a(19),P=a(16),f=a.n(P),v=function(e){var t=e.checked,a=e.handleSwitchChange;return r.a.createElement("input",{className:"switch-input",type:"checkbox",checked:t,onChange:function(){return a()}})},E=a(17),b=a.n(E),w=function(e){var t=e.body,a=e.isOpened,n=b()({panel__article:!0,opened:a});return r.a.createElement("article",{className:n},r.a.createElement("p",{className:"panel__body"},t))},O=function(e){var t=e.post,a=e.handleSwitchChange,n=t.title,s=t.body,l=t.id,c=t.isOpened;return r.a.createElement("section",null,r.a.createElement("header",{className:"panel__header"},r.a.createElement(v,{checked:c,handleSwitchChange:function(){return a(l)}}),r.a.createElement("h3",{className:"panel__heading"},n)),r.a.createElement(w,{body:s,isOpened:c}))},N=function(e){var t=e.posts,a=e.handleSwitchChange,n=t.map(function(e){return r.a.createElement(O,{key:e.id,post:e,handleSwitchChange:a})});return r.a.createElement("div",{className:"panels-list"},n)},y=function(e){var t=e.text,a=e.handleAllPanelsButton;return r.a.createElement("button",{className:"button-primary",onClick:a},t)},C=function(e){for(var t=e.currentPage,a=e.setCurrentPage,n=e.postsPerPage,s=e.totalPosts,l=[],c=1;c<=Math.ceil(s/n);c++)l.push(c);var o=l.map(function(e){var n=e===t?"button-primary active":"button-primary";return r.a.createElement("li",{className:"pagination__item",key:e},r.a.createElement("button",{className:n,onClick:function(){return a(e)}},e))});return r.a.createElement("ul",{className:"pagination"},o)},_=function(e){var t=e.setNumberOfPostsPerPage;return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"posts-select"},"Posts per page: "),r.a.createElement("select",{className:"select",id:"posts-select",onChange:function(e){return t(e.target.value)}},r.a.createElement("option",{className:"select__option",value:"5"},"5"),r.a.createElement("option",{className:"select__option",value:"8"},"8"),r.a.createElement("option",{className:"select__option",value:"10"},"10")))},k=(a(45),function(e){var t=e.children;return r.a.createElement("div",{className:"view-tools"},t)}),S=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],currentPage:1,postsPerPage:5,showAll:!1},a.getPosts=Object(u.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://jsonplaceholder.typicode.com/posts");case 3:t=e.sent,n=t.data.slice(0,25).map(function(e){return{id:e.id,title:e.title,body:e.body,isOpened:!1}}),a.setState({posts:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),a.handleSwitchChange=function(e){var t=a.state.posts.map(function(t){return t.id===e?Object(c.a)({},t,{isOpened:!t.isOpened}):t}),n=t.find(function(e){return!1===e.isOpened});a.setState({posts:t,showAll:!n})},a.handleAllPanelsButton=function(){var e=a.state.posts.map(function(e){return Object(c.a)({},e,{isOpened:!a.state.showAll})});a.setState(function(t){return{posts:e,showAll:!t.showAll}})},a.setCurrentPage=function(e){a.setState({currentPage:e})},a.setNumberOfPostsPerPage=function(e){var t=a.state,n=t.posts;t.currentPage*e>n.length?a.setState({postsPerPage:e,currentPage:Math.ceil(n.length/e)}):a.setState({postsPerPage:e})},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"render",value:function(){var e=this.state,t=e.showAll,a=e.posts,n=e.currentPage,s=e.postsPerPage,l=n*s,c=l-s,o=a.slice(c,l);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,r.a.createElement(y,{text:t?"Collapse all":"Expand all",handleAllPanelsButton:this.handleAllPanelsButton}),r.a.createElement(_,{setNumberOfPostsPerPage:this.setNumberOfPostsPerPage})),a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{posts:o,handleSwitchChange:this.handleSwitchChange}),r.a.createElement(C,{currentPage:n,postsPerPage:s,totalPosts:a.length,setCurrentPage:this.setCurrentPage})):r.a.createElement("div",null,"Loading..."))}}]),t}(n.Component);l.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.48d0dcc9.chunk.js.map